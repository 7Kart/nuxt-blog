(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{213:function(t,e,n){var content=n(330);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("5a7c75f0",content,!0,{sourceMap:!1})},214:function(t,e,n){var content=n(332);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("1d3e21e0",content,!0,{sourceMap:!1})},215:function(t,e,n){var content=n(334);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(13).default)("6ab07924",content,!0,{sourceMap:!1})},327:function(t,e,n){var o=n(7),r=n(328)(!1);o(o.S,"Object",{values:function(t){return r(t)}})},328:function(t,e,n){var o=n(9),r=n(27),c=n(21),m=n(44).f;t.exports=function(t){return function(e){for(var n,l=c(e),f=r(l),d=f.length,i=0,v=[];d>i;)n=f[i++],o&&!m.call(l,n)||v.push(t?[n,l[n]]:l[n]);return v}}},329:function(t,e,n){"use strict";var o=n(213);n.n(o).a},330:function(t,e,n){(t.exports=n(12)(!1)).push([t.i,".new-comment{text-align:center;background-color:#4f68f4;color:#fff}.new-comment .contact-form{max-width:600px;margin:30px auto}.new-comment .title{color:#fff}.new-comment .controls{margin:30px 0}",""])},331:function(t,e,n){"use strict";var o=n(214);n.n(o).a},332:function(t,e,n){(t.exports=n(12)(!1)).push([t.i,".comments{text-align:center;margin:30px auto}.comment{width:600px;padding:20px;margin-bottom:20px;background-color:#fff;text-align:center}.comment .name{font-size:24px;color:#5c4de7;margin-bottom:12px}",""])},333:function(t,e,n){"use strict";var o=n(215);n.n(o).a},334:function(t,e,n){(t.exports=n(12)(!1)).push([t.i,".post{max-width:900px;margin:0 auto}.post-header{text-align:center;margin-bottom:30px}.post-header img{margin-bottom:16px;max-width:400px}.post-header p{color:#999}.post-body{text-align:left}",""])},339:function(t,e,n){"use strict";n.r(e);n(327),n(20),n(16),n(65);var o=n(42),r=(n(36),n(5)),c={props:{post:{type:Object,required:!0}}},m=n(2),l=Object(m.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"post"},[n("div",{staticClass:"container"},[n("div",{staticClass:"post-header"},[n("img",{attrs:{src:t.post.img,alt:t.post.title}}),t._v(" "),n("h1",{staticClass:"title"},[t._v(t._s(t.post.title))]),t._v(" "),n("p",[t._v(t._s(t.post.description))])]),t._v(" "),n("div",{staticClass:"post-body"},[n("p",[t._v(t._s(t.post.content))])])])])},[],!1,null,null,null).exports,f=(n(43),n(26),n(35),n(19));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}var v,h={data:function(){return{comment:{name:"",text:""},message:null}},props:{postId:{type:String,required:!0}},methods:{onSubmit:function(){var t=this;this.$store.dispatch("addComment",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach(function(e){Object(f.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({postId:this.postId,publish:!1},this.comment)).then(function(){t.message="Submited"}).catch(function(t){return console.log("err",t)})}}},x=(n(329),Object(m.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"new-comment"},[n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[t._v("New comment")]),t._v(" "),n("form",{staticClass:"contact-form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t.message?n("AppMessage",{attrs:{message:t.message}}):t._e(),t._v(" "),n("AppInput",{model:{value:t.comment.name,callback:function(e){t.$set(t.comment,"name",e)},expression:"comment.name"}},[t._v("Name:")]),t._v(" "),n("AppTextArea",{model:{value:t.comment.text,callback:function(e){t.$set(t.comment,"text",e)},expression:"comment.text"}},[t._v("Text:")]),t._v(" "),n("div",{staticClass:"controls"},[n("AppButton",{attrs:{btnClass:"btnPrimary"}},[t._v("Submit!")])],1)],1)])])},[],!1,null,null,null).exports),_={props:{comments:{type:Array,default:null}}},w=(n(331),Object(m.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.comments?n("section",{staticClass:"comments"},[n("div",{staticClass:"container"},[n("h2",{staticClass:"title"},[t._v("Comments")]),t._v(" "),n("p",[t._v(" comments: "+t._s(t.comments.length)+" ")]),t._v(" "),t._l(t.comments,function(e){return n("div",{key:e.name,staticClass:"comment"},[n("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),n("p",{staticClass:"text"},[t._v(t._s(e.text))])])})],2)]):t._e()},[],!1,null,null,null).exports),y=n(32),O=n.n(y),j={components:{post:l,newComment:x,comments:w},head:function(){var title=this.post.title,t=this.post.description;return{title:title,meta:[{hid:"og:title",name:"og:title",content:title},{hid:"description",name:"description",content:t},{hid:"og:description",name:"og:description",content:t},{hid:"og:type",name:"og:type",content:"article"},{hid:"og:img",name:"og:img",content:this.post.title}]}},asyncData:(v=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r,c,m,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([O.a.get("https://fbtest-228.firebaseio.com/posts/".concat(e.params.id,".json")),O.a.get("https://fbtest-228.firebaseio.com/comments.json")]);case 2:return n=t.sent,r=Object(o.a)(n,2),c=r[0],m=r[1],l=Object.values(m.data).filter(function(t){return t.postId==e.params.id&&1==t.publish}),t.abrupt("return",{post:c.data,comments:l});case 8:case"end":return t.stop()}},t)})),function(t){return v.apply(this,arguments)})},C=(n(333),Object(m.a)(j,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper-content wrapper-content--fixed"},[e("post",{attrs:{post:this.post}}),this._v(" "),e("comments",{attrs:{comments:this.comments}}),this._v(" "),e("new-comment",{attrs:{postId:this.$route.params.id}})],1)},[],!1,null,null,null));e.default=C.exports}}]);